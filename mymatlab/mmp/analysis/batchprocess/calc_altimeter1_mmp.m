% calc_altimeter1_mmp.m% For mmp1: drops 2131:present, mmp2: drops 2131:present, mmp3: drops 2262:presentif drop_flag==1  % Calculate the average sound speed to the bottom of the profile  algorithm=read_algorithm_mmp('ac',drop);  x_str=['[h_ac,p_pport]=' algorithm '_mmp(drop,pr_scan,ss);'];  eval(x_str)  %  if ~isempty(h_ac)    %    % Apply offsets to express heights & pressures at principal sensors    ld_str=['load ' setstr(39) mmpdatabase FSP 'config' FSP mmpid FSP ...	     voffsetid '.mat' setstr(39)];    eval(ld_str)    %    h_vac=h_ac+offset_ac-offset_vac;    prh_vac=p_pport+0.01*offset_vac;    h_obs=h_ac+offset_ac-offset_obs;    prh_obs=p_pport+0.01*offset_obs;    h_tl=h_ac+offset_ac-offset_tl;    prh_tl=p_pport+0.01*offset_tl;    h_tsbe=h_ac+offset_ac-offset_tsbe;    prh_tsbe=p_pport+0.01*offset_tsbe;    h_v1=h_ac+offset_ac-offset_v1;    prh_v1=p_pport+0.01*offset_v1;% CHECK CALC BELOW    pbot=0.01*(h_ac+offset_ac)+p_pport; % pressure at sea floor    last_pbot=pbot(length(pbot));    %    sv_str=['save ' setstr(39) procdata FSP cruise FSP 'ac' FSP ...          'ac' int2str(drop) '.mat' setstr(39) ' h_ac p_pport pbot h_vac' ...		  ' prh_vac h_obs prh_obs h_tl prh_tl h_tsbe prh_tsbe h_v1 prh_v1'];    eval(sv_str)  else    h_tsbe=[]; prh_tsbe=[]; pbot=[];  endend